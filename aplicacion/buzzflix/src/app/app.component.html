<ng-progress [color]="'orange'"></ng-progress>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
  integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
<cookie-law (isSeen)="seeCookie($event)" #cookieLaw name="CookiesHasquiz" learnMore="/learn-more" target="_self">
  Esta web usa cookies propias y de terceros con el fin de mejorar
  la experiencia del usuario, elaborar información estadística conforme a nuestra 
  <a role="button" [routerLink]="['/info','privacidad']"> Política de cookies</a> . Si continuas navegando, aceptas su uso.
  <a role="button" (click)="seeCookie($event)"> Continuar </a>
  
  
</cookie-law>
<app-notify></app-notify>
<mat-toolbar class="barra" color="primary">
  <mat-toolbar-row>
    <button class="menuBoton" mat-icon-button>
      <mat-icon (click)="sidenav.toggle()">menu</mat-icon>
    </button>
    <img src="assets/logo.png" alt="Logo de la web" role="button" [routerLink]="['ver/seguidos']">
    <span class="menu-spacer"></span>
    <div class="menuExpandido">
      <form class="form-inline" id="form1" *ngIf="this.showSU" [formGroup]="miniForm">
        <input class="form-control mr-sm-2" formControlName="nombre" type="search"
          placeholder="Buscar quizzes y usuarios" aria-label="Search" />
        <button type="submit" class="btn btn-default" (click)="onSubmit();this.showSU=false">Buscar</button>
      </form>
      <!--Formulario Quizzes-->

      <div style="display: inline;margin-right: 2%;" *ngIf="!this.showSU">
        <mat-icon class="lupas" (click)="this.showSU=true">search</mat-icon>
      </div>

      <span class="menu-spacer"></span>
      <a class="menuItem" mat-button [routerLink]="['ver/todos']">Todos los quizzes </a>
      <a class="menuItem" mat-button [routerLink]="['crear/quizz']">Crear quiz </a>
      <a class="menuItem" mat-button *ngIf="isLoggedIn()" [routerLink]="['moderacion']">Moderación </a>
      <button mat-icon-button (click)="changeColor()" [matMenuTriggerFor]="menu"
        aria-label="Example icon-button with a menu">
        <mat-icon>more_vert</mat-icon>
      </button>

      <!--Menú derecha-->
      <mat-menu #menu="matMenu">
        <button mat-menu-item *ngIf="isLoggedIn() && this.usuario"
          [routerLink]="['perfil',this.authService.getAuthUserNickname()]">
          <mat-icon>account_circle</mat-icon>
          <span role="button" mat-button><a>Mi perfil</a></span>
        </button>

        <!--Notificaciones-->
        <mat-accordion *ngIf="isLoggedIn()" (click)="$event.stopPropagation()">
          <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
            <mat-expansion-panel-header style="padding: 16px;">
              <mat-panel-title>
                <mat-icon style="margin-right: 16px;vertical-align: middle;">mail_outline</mat-icon> <span role="button"
                  mat-button><a>Notificaciones</a>
                  <mat-icon *ngIf="notificaciones.length>0">{{this.icono}}
                  </mat-icon>
                </span>
              </mat-panel-title>
              <mat-panel-description>
              </mat-panel-description>
            </mat-expansion-panel-header>
            <mat-list>
              <mat-list-item *ngFor="let notificacion of notificaciones">
                <h4 mat-line>{{notificacion.name}}</h4>
                <mat-icon class="icono" (click)="read(notificacion)">delete_forever</mat-icon>
              </mat-list-item>
              <mat-list-item *ngIf="this.vacio || this.notificaciones.length==0">
                <h4 mat-line>No tienes ninguna notificación</h4>
              </mat-list-item>
            </mat-list>
          </mat-expansion-panel>
        </mat-accordion>



        <button mat-menu-item *ngIf="!isLoggedIn()" routerLink="/auth/register">
          <mat-icon>fiber_new</mat-icon>
          <span role="button" mat-button><a>Registrarse</a></span>
        </button>
        <button mat-menu-item *ngIf="!isLoggedIn()" routerLink="/auth/login">
          <mat-icon>accessibility_new</mat-icon>
          <span role="button" mat-button><a>Iniciar sesión</a></span>
        </button>
        <button mat-menu-item *ngIf="isLoggedIn()" (click)="logout()">
          <mat-icon>directions_run</mat-icon>
          <span role="button" mat-button><a>Cerrar sesión</a></span>
        </button>
        <!--Contacto-->
        <mat-accordion (click)="$event.stopPropagation()">
          <mat-expansion-panel (opened)="panelOpenState2 = true" (closed)="panelOpenState2 = false">
            <mat-expansion-panel-header style="padding: 16px;">
              <mat-panel-title>
                <mat-icon style="margin-right: 16px;vertical-align: middle;">contact_support</mat-icon> <span
                  role="button" mat-button><a>Acerca de Hasquiz</a>
                </span>
              </mat-panel-title>
              <mat-panel-description>
              </mat-panel-description>
            </mat-expansion-panel-header>
            <mat-list>
              <mat-list-item>
                <button mat-menu-item [routerLink]="['/info','redes']">
                  <mat-icon>share</mat-icon>
                  <span role="button" mat-button><a>Redes sociales</a></span>
                </button>
              </mat-list-item>
              <mat-list-item>
                <button mat-menu-item [routerLink]="['/info','contacto']">
                  <mat-icon>feedback</mat-icon>
                  <span role="button" mat-button><a>Contacto</a></span>
                </button>
              </mat-list-item>
              <mat-list-item>
                <button mat-menu-item [routerLink]="['/info','terminos']">
                  <mat-icon>info</mat-icon>
                  <span role="button" mat-button><a>Terminos de uso</a></span>
                </button>
              </mat-list-item>
              <mat-list-item>
                <button mat-menu-item [routerLink]="['/info','privacidad']">
                  <mat-icon>lock</mat-icon>
                  <span role="button" mat-button><a>Politica de privacidad</a></span>
                </button>
              </mat-list-item>
            </mat-list>
          </mat-expansion-panel>
        </mat-accordion>
      </mat-menu>
    </div>
  </mat-toolbar-row>
</mat-toolbar>


<!--Menú pequeño-->
<mat-sidenav-container>
  <mat-sidenav #sidenav>
    <mat-nav-list>
      <a mat-list-item [routerLink]="['ver/todos']" (click)="sidenav.toggle()">Todos los quizzes</a>
      <a mat-list-item [routerLink]="['crear/quizz']" (click)="sidenav.toggle()">Crear quiz</a>
      <a mat-list-item [routerLink]="['buscador']" (click)="sidenav.toggle()">Buscador</a>
      <a mat-list-item *ngIf="isLoggedIn()" [routerLink]="['moderacion']" (click)="sidenav.toggle()">Moderación </a>
      <button mat-menu-item *ngIf="isLoggedIn()"
        [routerLink]="['perfil',this.authService.getAuthUserNickname()]" (click)="sidenav.toggle()">
        <mat-icon *ngIf="isLoggedIn()">account_circle</mat-icon>
        <span role="button" mat-button><a>Mi perfil</a></span>
      </button>
      <!--Notificaciones-->
      <mat-accordion *ngIf="isLoggedIn()" (click)="$event.stopPropagation()">
        <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
          <mat-expansion-panel-header style="padding: 16px;">
            <mat-panel-title>
              <mat-icon style="margin-right: 16px;vertical-align: middle;">mail_outline</mat-icon> <span role="button"
                mat-button><a>Notificaciones</a>
                <mat-icon *ngIf="notificaciones.length>0">{{this.icono}}
                </mat-icon>
              </span>
            </mat-panel-title>
            <mat-panel-description>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <mat-list>
            <mat-list-item *ngFor="let notificacion of notificaciones">
              <h4 mat-line>{{notificacion.name}}</h4>
              <mat-icon class="icono" (click)="read(notificacion)">delete_forever</mat-icon>
            </mat-list-item>
            <mat-list-item *ngIf="this.vacio || this.notificaciones.length==0">
              <h4 mat-line>No tienes ninguna notificación</h4>
            </mat-list-item>
          </mat-list>
        </mat-expansion-panel>
      </mat-accordion>



      <button mat-menu-item *ngIf="!isLoggedIn()" routerLink="/auth/register" (click)="sidenav.toggle()">
        <mat-icon>fiber_new</mat-icon>
        <span role="button" mat-button><a>Registrarse</a></span>
      </button>
      <button mat-menu-item *ngIf="!isLoggedIn()" routerLink="/auth/login" (click)="sidenav.toggle()">
        <mat-icon>accessibility_new</mat-icon>
        <span role="button" mat-button><a>Iniciar sesión</a></span>
      </button>
      <button mat-menu-item *ngIf="isLoggedIn()" (click)="logout();sidenav.toggle()">
        <mat-icon>directions_run</mat-icon>
        <span role="button" mat-button><a>Cerrar sesión</a></span>
      </button>
      <!--Contacto-->
      <mat-accordion (click)="$event.stopPropagation()">
        <mat-expansion-panel (opened)="panelOpenState2 = true" (closed)="panelOpenState2 = false">
          <mat-expansion-panel-header style="padding: 16px;">
            <mat-panel-title>
              <mat-icon style="margin-right: 16px;vertical-align: middle;">contact_support</mat-icon> <span
                role="button" mat-button><a>Acerca de Hasquiz</a>
              </span>
            </mat-panel-title>
            <mat-panel-description>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <mat-list>
            <mat-list-item (click)="sidenav.toggle()">
              <button mat-menu-item [routerLink]="['/info','redes']">
                <mat-icon>share</mat-icon>
                <span role="button" mat-button><a>Redes sociales</a></span>
              </button>
            </mat-list-item>
            <mat-list-item (click)="sidenav.toggle()">
              <button mat-menu-item [routerLink]="['/info','contacto']">
                <mat-icon>feedback</mat-icon>
                <span role="button" mat-button><a>Contacto</a></span>
              </button>
            </mat-list-item>
            <mat-list-item (click)="sidenav.toggle()">
              <button mat-menu-item [routerLink]="['/info','terminos']">
                <mat-icon>info</mat-icon>
                <span role="button" mat-button><a>Terminos de uso</a></span>
              </button>
            </mat-list-item>
            <mat-list-item (click)="sidenav.toggle()">
              <button mat-menu-item [routerLink]="['/info','privacidad']">
                <mat-icon>lock</mat-icon>
                <span role="button" mat-button><a>Politica de privacidad</a></span>
              </button>
            </mat-list-item>
          </mat-list>
        </mat-expansion-panel>
      </mat-accordion>
      <a mat-list-item (click)="sidenav.toggle()" mat-list-item>Cerrar menú</a>

    </mat-nav-list>
  </mat-sidenav>
  <mat-sidenav-content>
    <div class="container">

      <router-outlet></router-outlet>
    </div>

  </mat-sidenav-content>
</mat-sidenav-container>


<div class="separator"></div>