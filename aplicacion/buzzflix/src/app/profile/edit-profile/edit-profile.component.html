<div class="col-md-12 box" *ngIf="usuario">
  <div class="panel panel-default">
    <div class="panel-heading">
      Editar perfil
    </div>
    <div class="panel-body">
      <form class="example-form" [formGroup]="this.profileForm" (ngSubmit)="editProfile()">
        <mat-form-field class="example-full-width">
          <input matInput [(ngModel)]="usuario.name" placeholder="Nombre de usuario" formControlName="nombre"
            [errorStateMatcher]="matcher">
          <mat-hint></mat-hint>
          <mat-error *ngIf="profileForm.get('nombre').hasError('required')">
            El nombre de usuario es <strong>obligatorio</strong>
          </mat-error>
          <mat-error
            *ngIf="!profileForm.get('nombre').hasError('required')  && profileForm.get('nombre').hasError('minlength')">
            El nombre de usuario debe tener un mínimo de <strong>3 caracteres</strong>
          </mat-error>
          <mat-error
            *ngIf="!profileForm.get('nombre').hasError('required')  && profileForm.get('nombre').hasError('maxlength')">
            El nombre de usuario debe tener un máximo de <strong>20 caracteres</strong>
          </mat-error>
        </mat-form-field>

        <mat-form-field class="example-full-width">
          <input type="password" matInput placeholder="Contraseña antigua" formControlName="oldPass"
            [errorStateMatcher]="matcher">
          <mat-hint></mat-hint>
          <mat-error *ngIf="profileForm.get('oldPass').hasError('minlength')">
            La contraseña debe tener <strong>6 caracteres como mínimo</strong>
          </mat-error>
          <mat-error *ngIf="profileForm.get('oldPass').hasError('maxlength')">
            La contraseña debe tener <strong>30 caracteres como máximo</strong>
          </mat-error>
          <mat-error *ngIf="profileForm.get('oldPass').hasError('required')">
            La contraseña es <strong>obligatoria</strong>
          </mat-error>
        </mat-form-field>
        <mat-form-field class="example-full-width">
          <input type="password" matInput placeholder="Contraseña nueva" formControlName="newPass"
            [errorStateMatcher]="matcher">
          <mat-hint></mat-hint>
          <mat-error *ngIf="profileForm.get('newPass').hasError('minlength')">
            La contraseña debe tener <strong>6 caracteres como mínimo</strong>
          </mat-error>
          <mat-error *ngIf="profileForm.get('newPass').hasError('required')">
            La contraseña es <strong>obligatoria</strong>
          </mat-error>
        </mat-form-field>

        <div class="input-group">
          <input type="text" [value]="textInput" class="form-control" readonly>
          <div class="input-group-btn">
            <span class="fileUpload btn btn-success">
              <span class="upl" id="upload">Subir imagen</span>
              <input type="file" class="upload up" formControlName="avatar" accept="image/*"
                (change)="onFileChanged($event)" id="up" />
            </span>
          </div>
        </div>
        <button mat-raised-button color="primary">Guardar cambios</button>
      </form>
    </div>
  </div>
</div>