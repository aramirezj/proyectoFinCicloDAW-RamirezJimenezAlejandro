<div class="mensaje">
    <h1 class="text-center seccion" style="background: none;">Moderación de quizzes</h1>
  <mat-accordion>
    <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
      <mat-expansion-panel-header>
        <mat-panel-title>
          ¿Qué criterio debería seguir a la hora de rechazar un Quiz?
        </mat-panel-title>
        <mat-panel-description>

        </mat-panel-description>
      </mat-expansion-panel-header>
      <mat-list>
        <mat-list-item *ngFor="let correcta of correctas">
          <mat-icon mat-list-icon>announcement</mat-icon>
          <h4 mat-line>{{correcta.name}}</h4>
        </mat-list-item>
      </mat-list>
    </mat-expansion-panel>
  </mat-accordion>
</div>


<div class="boxEnunciado" *ngIf="this.isLoaded && this.quizzes!=null" class="text-center">
  <div style="margin:auto">
    <app-quizz class="quizModera" [quizz]="this.rawquizzes[this.indice]"></app-quizz>
  </div>

  <div class="clear"></div>
  {{this.controlImagenes(0)}}
  <p class="text-center seccion">Soluciones</p>
  <mat-card class="example-card" *ngFor="let solucion of this.quizzes[this.indice].soluciones;let i = index">
    <mat-card-header>
      <mat-card-title class="mat-card-header-text">{{solucion.titulo}}</mat-card-title>
    </mat-card-header>
    <img alt="Imagen de la solución" mat-card-image *ngIf="this.imagenes[this.indiceImagenes] | async; let url" [src]="url" width="200px">
    {{this.controlImagenes(1)}}
    <mat-card-content>
      <p class="descSolu">
        {{solucion.descripcion}}
      </p>
    </mat-card-content>
  </mat-card>
  <div style="clear:both;"></div>

  <p class="text-center seccion">Preguntas</p>
  <div class="cajaPregunta" *ngFor="let pregunta of this.quizzes[this.indice].preguntas;let i = index">
    <h4 style="margin-bottom: 1%;">{{pregunta.enunciado}}</h4>
    <div class="clear"></div>
    <div style="margin-bottom: 1%;" class="'box cajaRespuesta"
      *ngFor="let respuesta of pregunta.respuestas;let j=index">
      <p>{{respuesta.enunciado}}</p>
    </div>
    <div class="clear"></div>
  </div>
  <div class="acciones">
    <button *ngIf="!this.isAdmin" style="float:left;" mat-raised-button color="warn"
      (click)="juzga(false)">Rechazar</button>
    <button *ngIf="!this.isAdmin" style="float:right;" mat-raised-button color="primary"
      (click)="juzga(true)">Aprobar</button>
    <button *ngIf="this.isAdmin" style="float:left;" mat-raised-button color="warn"
      (click)="juzga(false)">Borrar</button>
    <button *ngIf="this.isAdmin" style="float:right;" mat-raised-button color="primary"
      (click)="juzga(true)">Publicar</button>
  </div>
</div>
<div *ngIf="this.isLoaded && this.quizzes==null">
  <p class="empty">¡Vaya, no hay ningún Quiz por moderar! Vuelve más tarde o crea el tuyo propio <3</p> </div>